"use strict";const title=document.querySelector(".input__name"),button=document.querySelector(".btn"),result=document.querySelector(".list"),favorites=document.querySelector(".serie"),url="http://api.tvmaze.com/search/shows?q=",favStore=JSON.parse(localStorage.getItem("details"));let favs=[];favs=favStore||[];let addStorage="";for(let e=0;e<favs.length;e++)addStorage+=`\n            <li class="list__title-serie" data-id=${favs[e].getId}data-name=${favs[e].getName} data-img="https://via.placeholder.com/210x295/f2f2ff/?text=TV">\n              <h2 class="title__line"> ${favs[e].getName}</h2>\n              <img class="img__serie" src="${favs[e].getImg}" alt="imagen de:${favs[e].getName}">\n          </li>\n        `;function getList(){const e=title.value;fetch(url+e).then(e=>e.json()).then(e=>{let t="";for(const s of e)null===s.show.image?t+=`\n          <li class="list__title-serie" data-id="${s.show.id}"data-name="${s.show.name}" data-img="https://via.placeholder.com/210x295/f2f2ff/?text=TV">\n            <h2 class="title__line"> "${s.show.name}"</h2>\n            <img class="img__serie" src="https://via.placeholder.com/210x295/f2f2ff/?text=TV" alt="imagen de:${s.show.name}">\n          </li>\n        `:t+=`\n          <li class="list__title-serie" data-id="${s.show.id}"     data-name="${s.show.name}" data-img= "${s.show.image.medium}">\n            <h2 class="title__line"> ${s.show.name}</h2>\n            <img class="img__serie" src="${s.show.image.medium}" alt="imagen de:${s.show.name} ">\n          </li>\n        `;result.innerHTML+=t;const s=document.querySelectorAll(".list__title-serie");for(let e=0;e<s.length;e++)s[e].addEventListener("click",getFavs)})}function getFavs(e){const t=e.currentTarget,s=t.getAttribute("data-id"),a=t.getAttribute("data-name"),i=t.getAttribute("data-img"),l={getImg:i,getName:a,getId:s};let n="";if(t.classList.toggle("serie-fav"),t.classList.contains("serie-fav"))!1===favs.includes(l)&&(favs.push(l),n+=null===l.getImg?`<li class="list__title-serie">\n          <h2 class="title__line"> ${a}</h2>\n          <img class="img__serie" src="${i}" alt="imagen de:${a} ">\n        </li>`:`\n        <li class="list__title-serie">\n          <h2 class="title__line"> ${a}</h2>\n          <img class="img__serie" src="${i}" alt="imagen de:${a} ">\n        </li>\n      `),localStorage.setItem("details",JSON.stringify(favs));else{const e=favs.indexOf(a);e>-1&&favs.splice(e,1)}favorites.innerHTML+=n}favorites.innerHTML=addStorage,button.addEventListener("click",getList);